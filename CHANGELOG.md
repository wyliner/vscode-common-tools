# Change Log

## 0.0.11 - 2025-12-26

### Base64 工具与菜单支持 🆕
- **新增**: Base64 工具（src/commands/base64.ts）
  - Base64 编码/解码
  - Base64 URL Safe 编码/解码
  - 支持 UTF-8，自动处理 padding
- **右键菜单**: Base64 工具集成到 Common Tools 分组菜单
  - 新增 Base64 子菜单，分组显示标准与 URL Safe 编码

### 文档与配置更新 📚
- **更新**: README.md/README.cn.md，移除测试说明，补充 Base64 工具完整用法
- **更新**: package.json，注册 Base64 命令与菜单分组

## 0.0.10 - 2025-12-16

### JSON 工具增强 - 智能文本提取 🎯
- **新增**: 自动从文本中提取 JSON 内容
  - 智能识别并提取带有前缀/后缀的 JSON 文本
  - 支持格式如：`"API Response Data: {...}"`、`"Log: {...} - received"` 等
  - 自动定位 JSON 起始符号（`{` 或 `[`），并匹配对应的结束括号
  - 处理嵌套括号和字符串中的括号，确保正确提取完整 JSON
  
- **增强**: Format 功能
  - 自动从混合文本中提取纯 JSON 部分进行格式化
  - 示例：`"API Response Data: {"status":200}"` → 格式化的 JSON（忽略前缀）
  
- **增强**: Deep Format 功能
  - 支持带前缀文本的深度格式化
  
- **增强**: Compress 功能
  - 支持带前缀文本的压缩

### 测试增强 ✅
- **新增**: JSON 提取功能测试用例
  - 测试各种前缀文本格式
  - 测试嵌套括号匹配
  - 测试转义字符处理
  - 测试边界情况

## 0.0.9 - 2025-12-15

### JSON 工具大幅增强 🚀
- **新增**: Deep Format 功能 - 递归解析和格式化嵌套的 JSON 字符串
  - 自动识别并展开对象字段中的 JSON 字符串
  - 支持多层嵌套的 JSON 结构
  - 完美处理复杂的转义场景
  
- **增强**: Format 功能改进
  - 智能处理转义的 JSON 字符串（如 `"{\"key\":\"value\"}"`）
  - 自动去除外层引号和转义字符
  - 支持单引号 JSON 自动转换为标准双引号格式
  - 更健壮的预处理逻辑
  
- **重命名**: 简化命令名称
  - `json.minify` → `json.compress`
  - `json.compress-one-line` 保留（易读的单行压缩）
  - 移除冗余的 unescape 相关命令，功能已集成到 format 和 deep-format

### 测试覆盖 ✅
- **新增**: 完整的单元测试套件
  - 125 个测试用例，100% 通过率
  - 覆盖所有 JSON、String、Time、UUID、Random 工具
  - 详细的边界情况和错误处理测试
  - 测试报告：[TEST_REPORT.md](./TEST_REPORT.md)
  
- **测试内容**:
  - ✅ JSON 格式化、深度格式化、压缩
  - ✅ 字符串格式转换（10 种命名格式）
  - ✅ 时间格式化和解析
  - ✅ UUID 生成和验证
  - ✅ 随机字符串生成

### 文档更新 📚
- 更新 README 反映新的 JSON 功能
- 新增详细的测试报告文档
- 优化功能描述和使用示例

## 0.0.8 - 2025-09-01
### 时间工具重构
- **重构**: 所有时间相关命令统一采用 CommonCommand/CommandExecutor 架构，行为与 JSON/String 工具一致
- **插入策略**: 支持智能插入/替换，命令行为更统一

### Fixed Bug
- 选中文本提示无选中文本wenti

## 0.0.7 - 2025-08-22

### 代码架构升级
- **新增**: 执行上一次命令ExecuteLastCommand
- **优化**: 重构 String 和 JSON 命令，使用统一的 CommonCommand 接口和 CommandExecutor
- **增强**: 命令执行器支持异步函数处理，更好地支持需要等待的操作
- **改进**: 智能插入逻辑优化，自动检测光标前字符并按需添加空格

## 0.0.6 - 2025-07-25

### 随机字符串工具
- **优化**: 取消选择操作选项，简化为直接插入光标位置
- **增强**: 支持自定义字符集（数字、小写字母、大写字母、符号）和长度
- **界面**: 添加到右键菜单，提高可访问性

### UUID 工具
- **新增**: 标准 UUID v4 生成器
- **新增**: 无连字符 UUID v4 生成器

### 时间工具
- **优化**: 支持任意长度时间戳的智能转换
- **优化**: 自适应时间组件显示，零值部分自动隐藏

## 0.0.5 - 2025-07-14
 - 缩减icon大小

## 0.0.4 - 2025-07-14
 - 新增icon

## 0.0.3 - 2025-07-14
- 优化 time 工具，parse 支持所有格式字符串，format 支持时间戳输入，10/13位自动识别毫秒
- string 菜单命令分组显示
- JSON compress-one-line 格式优化，结构更美观
- JSON/STRING 工具健壮性增强，所有 handler 预处理 trim/逗号/空格

## 0.0.2 - 2025-07-11
- 新增 string 工具，支持多种字符串格式转换
- 添加右键菜单功能，支持分组三级菜单
- 命令风格统一为 kebab-case
- 优化 JSON 工具注册方式
- 新增获取当前时间戳命令

## 0.0.1 - 2025-07-10
- 新增 json 工具
- 新增 time 工具